#+TITLE: EMACS CONFIGURATION
#+SEQ_TODO: TODO(t) STARTED(s) WAITING(w) APPT(a) | DONE(d) CANCELLED(c) DEFERRED(f)
#+PROPERTY: Effort_ALL 0 0:10 0:20 0:30 1:00 2:00 4:00 6:00 8:00
#+OPTIONS: toc:nil

* Packages
** Melpa
#+BEGIN_SRC emacs-lisp
  (dolist (package '(evil dash helm transient with-editor magit org-bullets))
   (unless (package-installed-p package)
     (package-install package))
     (require package))
  
  (require 'evil)
  (evil-mode 1)
  (require 'dash)
  (require 'org-bullets)
  (require 'helm)
#+END_SRC
** Apt
#+BEGIN_SRC bash
APT_PACKAGES=(
    emacs
    texlive-latex-recommended
    texlive-latex-extra
    texlive-fonts-recommended
    texlive-base
    texlive-latex-base
)
apt update
apt install $APT_PACKAGES
#+END_SRC

* Personlig
#+BEGIN_SRC emacs-lisp
(setq user-full-name "Carl Ola Fornander")
(setq user-email-address "ofornander@gmail.com") 
#+END_SRC

* Style
** Basic Interface
*** Native
#+BEGIN_SRC emacs-lisp
(setq column-number-mode t)
(display-time-mode 1)
(tool-bar-mode -1)
(menu-bar-mode -1)
(scroll-bar-mode -1)
(set-face-attribute 'default nil :height 120)
(setq inhibit-splash-screen t)
#+END_SRC

** Org Bullets Mode
#+BEGIN_SRC emacs-lisp
(require 'org-bullets)
(add-hook 'org-mode-hook (lambda () (org-bullets-mode 1)))
(org-bullets-mode t)
#+END_SRC

** Themes
#+BEGIN_SRC emacs-lisp
#+END_SRC

* Custom Set Variables
#+BEGIN_SRC emacs-lisp
(custom-set-variables
  '(inhibit-startup-screen t)
  '(display-time-24hr-format t)

)
#+END_SRC

* Custom Set Faces
#+BEGIN_SRC emacs-lisp
(custom-set-faces
 ;; custom-set-faces was added by Custom.
 ;; If you edit it by hand, you could mess it up, so be careful.
 ;; Your init file should contain only one such instance.
 ;; If there is more than one, they won't work right.
 )
#+END_SRC

* Tex
#+begin_src emacs-lisp
;;; AUCTEX
(setq TeX-auto-save t)
(setq TeX-parse-self t)
(setq-default TeX-master nil)

(add-hook 'LaTeX-mode-hook 'visual-line-mode)
(add-hook 'LaTeX-mode-hook 'flyspell-mode)
(add-hook 'LaTeX-mode-hook 'LaTeX-math-mode)

(add-hook 'LaTeX-mode-hook 'turn-on-reftex)
(setq reftex-plug-into-AUCTeX t)

(setq TeX-PDF-mode t)
#+END_SRC

* Mappings
#+BEGIN_SRC emacs-lisp
(defun fullscreen ()
  (interactive)
  (set-frame-parameter nil 'fullscreen
		       (if (frame-parameter nil 'fullscreen) nil 'fullboth))
  (progn
    (if fboundp 'tool-bar-mode) (tool-bar-mode -1))
  (menu-bar-mode -1)
  (scroll-bar-mode -1)
)
(global-set-key [f11] 'fullscreen)
#+END_SRC
* Orgmode
*** General
#+BEGIN_SRC emacs-lisp
  (require 'org)
  
  (defun org-summary-todo (n-done n-not-done)
    "Switch entry to DONE when all subentries are done, to TODO otherwise."
    (let (org-log-done org-log-states)   ; turn off logging
      (org-todo (if (= n-not-done 0) "DONE" "TODO"))))
  
  (add-hook 'org-after-todo-statistics-hook 'org-summary-todo)
  
  (setq org-journal-dir "~/.org")
  
  (setq org-clock-persist 'history)
  (org-clock-persistence-insinuate)
  
  (define-key global-map "\C-cl" 'org-store-link)
  (define-key global-map "\C-ca" 'org-agenda)
  
  (setq org-log-done t)
  (setq org-list-indent-offset 1)
  
  (setq org-agenda-start-day "-d")
  (setq org-agenda-span 8)
  (setq org-agenda-start-on-weekday 1)
  
  (add-to-list 'org-modules 'org-habit)
#+END_SRC

** Org Babel
#+BEGIN_SRC emacs-lisp
(org-babel-do-load-languages 'org-babel-load-languages
    '(
        (shell . t)
    )
)
#+END_SRC

* Helm
#+BEGIN_SRC emacs-lisp
  (global-set-key (kbd "M-x") 'helm-M-x)
#+END_SRC
